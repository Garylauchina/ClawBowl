# ═══════════════════════════════════════════════════════════════════
# ClawBowl Backend Configuration
# ═══════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in real values:
#   cp .env.example .env
# ═══════════════════════════════════════════════════════════════════

# --- Database ---
# SQLite (default, good for single-server). For production consider PostgreSQL.
DATABASE_URL=sqlite+aiosqlite:///./clawbowl.db

# --- JWT Authentication ---
# Generate a strong secret: python3 -c "import secrets; print(secrets.token_urlsafe(48))"
JWT_SECRET=change-me-to-a-strong-random-secret
JWT_ALGORITHM=HS256
# Token expiry in minutes (1440 = 24 hours)
JWT_EXPIRE_MINUTES=1440

# --- ZenMux (LLM API aggregator, shared across all user instances) ---
# ZenMux aggregates multiple LLM providers behind a unified OpenAI-compatible API.
# Get your key at: https://zenmux.ai
ZENMUX_API_KEY=sk-ai-v1-your-key-here
ZENMUX_BASE_URL=https://zenmux.ai/api/v1

# --- Docker / OpenClaw Container Settings ---
# Docker image for per-user OpenClaw containers (build with docker/Dockerfile.openclaw)
OPENCLAW_IMAGE=clawbowl-openclaw:latest
# Port range allocated to user containers (each container gets one port)
OPENCLAW_PORT_RANGE_START=19001
OPENCLAW_PORT_RANGE_END=19999
# Root directory for user data (config, workspace, etc.)
OPENCLAW_DATA_DIR=/var/lib/clawbowl
# Resource limits per container
OPENCLAW_CONTAINER_MEMORY=1536m
OPENCLAW_CONTAINER_CPUS=0.5
# Node.js heap size inside the container (MB)
OPENCLAW_NODE_MAX_OLD_SPACE=1024
# Auto-stop idle containers after N minutes (0 = never)
OPENCLAW_IDLE_TIMEOUT_MINUTES=30

# --- Host OpenClaw Paths (bind-mounted read-only into containers) ---
# Path to openclaw npm package on the host
OPENCLAW_HOST_MODULES=/usr/lib/node_modules/openclaw
# Path to openclaw binary on the host
OPENCLAW_HOST_BIN=/usr/bin/openclaw

# --- APNs Push Notifications ---
# Required for sending push notifications to the iOS app.
# 1. Generate a key in Apple Developer > Keys > APNs
# 2. Download the .p8 file and place it on the server
# 3. Fill in the Key ID, Team ID from your Apple Developer account
#
# APNS_KEY_PATH: Absolute path to the .p8 key file
#   Example: /etc/clawbowl/AuthKey_ABC123.p8
APNS_KEY_PATH=
# APNS_KEY_ID: The 10-character Key ID from Apple Developer portal
APNS_KEY_ID=
# APNS_TEAM_ID: Your 10-character Apple Developer Team ID
APNS_TEAM_ID=
# APNS_BUNDLE_ID: The app's bundle identifier (must match Xcode project)
APNS_BUNDLE_ID=com.gangliu.ClawBowl
# APNS_USE_SANDBOX: Use sandbox (development) APNs server
#   true  = sandbox (for TestFlight / Xcode builds)
#   false = production (for App Store builds)
APNS_USE_SANDBOX=true

# --- External API Keys ---
# Tavily: AI-optimized search API for real-time data queries
# Get your key at: https://tavily.com
TAVILY_API_KEY=
